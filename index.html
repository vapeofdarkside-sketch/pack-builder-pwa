<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Pack Builder (PWA)</title>
<link rel="manifest" href="manifest.webmanifest" />
<style>
  :root{
    --bg:#0e1117; --card:#161b22; --field:#0d1117;
    --text:#fff; --muted:rgba(255,255,255,.75);
    --green:#4caf50; --yellow:#ffc107; --red:#f44336;
    --accent:#7c5cff;
  }
  body{background:var(--bg);color:var(--text);font-family:Arial,sans-serif;margin:0;padding:20px;}
  h1{margin:0 0 14px 0;}
  .card{background:var(--card);padding:15px;border-radius:12px;margin-bottom:15px;}
  .row{display:flex;gap:12px;flex-wrap:wrap;}
  .col{flex:1;min-width:160px;}
  label{display:block;margin-top:8px;margin-bottom:6px;font-size:13px;opacity:.9;}
  input,select{
    width:100%;padding:9px;border-radius:8px;border:none;font-size:16px;
    background:var(--field);color:var(--text);
  }
  input:disabled{opacity:.85;}
  table{width:100%;border-collapse:collapse;}
  td{padding:6px 0;} td:last-child{text-align:right;}
  .green{color:var(--green);} .yellow{color:var(--yellow);} .red{color:var(--red);}
  .small{font-size:12px;opacity:.82;margin-top:8px;line-height:1.35;}
  .hidden{display:none;}

  /* Battery button */
  .batteryBtnWrap{margin-top:14px;display:flex;justify-content:center;}
  .batteryBtn{
    position:relative;width:260px;height:74px;border-radius:18px;
    background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
    border:1px solid rgba(255,255,255,.10);
    overflow:hidden;cursor:pointer;user-select:none;
    box-shadow:0 0 0 1px rgba(124,92,255,.18) inset;
  }
  .batteryBtn::before{
    content:"";position:absolute;right:-10px;top:24px;width:14px;height:26px;border-radius:6px;
    background:rgba(255,255,255,.16);border:1px solid rgba(255,255,255,.10);
  }
  .batteryFill{
    position:absolute;left:0;top:0;bottom:0;width:0%;
    background:linear-gradient(90deg, rgba(124,92,255,.85), rgba(124,92,255,.30));
  }
  .batteryContent{
    position:relative;z-index:2;height:100%;
    display:flex;align-items:center;justify-content:space-between;
    padding:0 14px;gap:10px;
  }
  .batteryTitle{font-weight:800;font-size:14px;}
  .batterySub{font-size:12px;opacity:.78;margin-top:2px;}
  .batteryRight{text-align:right;font-variant-numeric:tabular-nums;}
  .batteryPct{font-weight:900;font-size:16px;}
  .batteryState{font-size:12px;opacity:.75;margin-top:2px;}
  .batteryBtn.disabled{cursor:default;opacity:.92;}

  /* Layout page */
  .topbar{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px;}
  .btn{
    border:none;border-radius:10px;padding:10px 12px;
    background:rgba(255,255,255,.06);color:var(--text);
    font-weight:800;cursor:pointer;
  }
  .btn.primary{background:rgba(124,92,255,.20);border:1px solid rgba(124,92,255,.55);}
  .seg{display:flex;gap:10px;flex-wrap:wrap;}
  .seg .btn{min-width:110px;}
  .canvasCard{padding:12px;}
  canvas{
    width:100%;
    height:auto;
    border-radius:12px;
    background:#0b0b0c;
    box-shadow:0 0 0 1px rgba(255,255,255,.06) inset;
  }
</style>
</head>
<body>

<!-- PAGE 1 -->
<div id="pageCalc">
  <h1>Pack Builder (PWA)</h1>

  <div class="card">
    <h3>Zelle auswählen</h3>

    <label>Hersteller / Modell</label>
    <select id="cellModel"></select>

    <div class="row">
      <div class="col"><label>Format</label><input id="format" disabled></div>
      <div class="col"><label>Kapazität (mAh)</label><input id="capacity" disabled></div>
    </div>
    <div class="row">
      <div class="col"><label>Max. Dauerstrom (A)</label><input id="maxA" disabled></div>
      <div class="col"><label>Nominalspannung (V)</label><input id="nomV" disabled></div>
    </div>
    <div class="row">
      <div class="col"><label>Vollspannung (V)</label><input id="fullV" disabled></div>
    </div>